<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="quills">
  <body>
      <!-- 
          Uses from the environment:
             weblog - the weblog we're rendering for
             items - the items to render - passed in for 
               performance - already computed in multiple blog application
             multiple (optional) - true if the blog name should be shown
             uses dl,dt,dd portlet style - assumes dl provided as context
             consumes tagCloud, wid_*, cloudItem, tagRank_* in Quills.css
          -->
    <div metal:define-macro="tag_cloud"
         tal:omit-tag="">

        <dt class="portletHeader">
			<span class="portletTopLeft"></span>
            <a href=""
               i18n:translate="heading_tagcloud" 
               tal:attributes="href string:${weblog/absolute_url}/topics">
               Tag cloud
            </a>
            <tal:nameTheBlog
              tal:condition="multiple|nothing">
              <div class="blogName">
                  <a href=""
                     tal:attributes=
                          "href string:${weblog/absolute_url}/topics"
                     tal:content="string:${weblog/title}">
                     My Blog
                  </a>
              </div>
            </tal:nameTheBlog>
        	<span class="portletTopRight"></span>
        </dt>
        <dd class=""
            tal:define="blogid weblog/getId;
                 kl string:portletItem lastItem tagCloud wid_${blogid}"
            tal:attributes="class kl">
          <tal:items tal:repeat="item items" 
                     tal:omit-tag="">
            <a class="" href="" title=""
               tal:define="topic python:item[0];
                           rank python:str(int(item[1]*10))"
               tal:attributes="
                    href string:${weblog/absolute_url}/topics/${topic};
                    title python: str(item[2]) + ' entries';
                    class string:cloudItem tagRank_${rank}" 
               tal:content="topic">
              Topic name
            </a>
          </tal:items>
			<span class="portletBottomLeft"></span>
        	<span class="portletBottomRight"></span>
        </dd>
    </div>

  </body>
</html>
