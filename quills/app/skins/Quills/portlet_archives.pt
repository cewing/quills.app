<html 
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
   xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    i18n:domain="quills">
  <header><title></title></header>
  <body>
    <div metal:define-macro="portlet"
         tal:omit-tag=""
         tal:define="weblogview context/@@weblogview"
         tal:condition="weblogview/isWeblogContent">
      <dl class="portlet"
          id="portlet-weblogarchives"
          tal:define="weblog weblogview/getParentWeblog;
                      archive weblog/getArchives;
                      years archive/getSubArchives;"
          tal:condition="years">
        <dt class="portletHeader"
            i18n:translate="heading_archives">
          Archives
	        <span class="portletTopLeft"></span>
	        <span class="portletTopRight"></span>
        </dt>
        <dd class="portletItem lastItem">
          <ul tal:repeat="year years">
            <li>
              <strong tal:content="year/Title" ></strong><br />
              <ul tal:define="months python:year.getArchiveListing(batch=False);" >
                <li tal:repeat="month months">
                  <a href=""
                     tal:attributes="href month/absolute_url">
                    <span tal:content="month/Title" /> 
                    (<b tal:content="python:len(month.getLazyEntries())"/>)
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        	<span class="portletBottomLeft"></span>
        	<span class="portletBottomRight"></span>
        </dd>
      </dl>
    </div>
  </body>
</html>
